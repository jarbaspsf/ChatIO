<!DOCTYPE html>
<html>
	<head>
		<title>ChatIO</title>
		<script src="/socket.io/socket.io.js"></script>
		<script type="text/javascript">
			var socket = io.connect('http://localhost');

			socket.on('enviarParaCliente', function(msg){
				document.getElementById('listaMensagens').innerHTML += msg;
			});

			var enviar = function(){
				var nome = document.getElementById('nome').value;
				var mensagem = document.getElementById('mensagem').value;
				socket.emit('enviarParaServer', {nome:nome, msg:mensagem});
			}
		</script>
	</head>
	<body>
		<h1>Chat Real-time</h1>
        <label>Nome:
        	<input type="text" id="nome">
        </label>
        <label>Mensagem:
            <input type="text" id="mensagem">
        </label>
        <button id="enviar" onclick="enviar();">Enviar</button>
        <hr>
        <div id="listaMensagens"></div>
	</body>
</html>